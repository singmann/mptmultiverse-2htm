setwd("~/GitHub/mptmultiverse-2htm/presentations/mpt-meeting-april-2018")
library(xaringan)
library(htmltools)
library("tidyr")
library("dplyr")
library("tibble")
library("rlang")
library("reshape2")
library("ggplot2")
library("parallel")
library("MPTinR")
library("TreeBUGS")
library("runjags")
library("purrr")
library("readr")
library("broom") # for tidy
source("../../scripts/auxiliary_functions.R")
source("../../scripts/summary_plots.R")
load("../../broeder_exp1/model_orig.eqn-exp1.txt.RData")
results1 <- results
load("../../broeder_exp1/model_orig_qrest.eqn-exp1.txt.RData")
results2 <- results
load("../../broeder_exp1/model_orig_rrest.eqn-exp1.txt.RData")
results3 <- results
library("tidyr")
library("dplyr")
library("tibble")
library("rlang")
library("reshape2")
library("ggplot2")
library("parallel")
library("MPTinR")
library("TreeBUGS")
library("runjags")
library("purrr")
library("readr")
library("broom") # for tidy
source("../../scripts/auxiliary_functions.R")
source("../../scripts/summary_plots.R")
load("../../broeder_exp1/model_orig.eqn-exp1.txt.RData")
results1 <- results
load("../../broeder_exp1/model_orig_qrest.eqn-exp1.txt.RData")
results2 <- results
load("../../broeder_exp1/model_orig_rrest.eqn-exp1.txt.RData")
results3 <- results
pars <- bind_rows(
unnest(results1, est_group),
unnest(results2, est_group),
unnest(results3, est_group)
)
pars$condition <- ifelse(pars$condition=="strong_naming",
'Strong wording',
'Weak wording'
)
pars$pooling <- ifelse(pars$pooling=="no",
'No',
ifelse(pars$pooling=="complete",
'Comp',
'PP'))
pars$package <- ifelse(pars$package=="MPTinR",
'MR',
'TB')
pars$method <- ifelse(pars$method=="PB/MLE",
'PB',
ifelse(pars$method=="asymptotic",
'asy',
ifelse(pars$method=="simple",
'',
ifelse(pars$method=="trait",
'trait',
ifelse(pars$method=="trait_uncorrelated",
'trait_u',
'beta')))))
pars$model <- ifelse(pars$model=='model_orig.eqn',
'Original Model',
ifelse(pars$model=='model_orig_qrest.eqn',
'Q Restricted',
'R Restricted'))
shapes <- c(16, 18, 15, 1, 0, 8, 11, 12)
dd <- position_dodge(w = .75)
core <- filter(pars, parameter %in% c("Do", "Dn", "g"))
ggplot(core, aes(y = est, x = interaction(method, pooling,package),
shape=model, color=model)) +
facet_grid(condition ~parameter) +
geom_errorbar(aes(ymin = est-se, ymax = est+se), position = dd,
width = 0.4)+
geom_point(position = dd, size = 2) +
ylim(0,1) +
labs(x='Analysis approach',y='Estimate', color='Model',shape='Model', title='Estimates of Core Parameters Across Models')+
scale_shape_manual(values=shapes) +
theme_bw() +
theme(plot.title=element_text(face = 'bold',size=16, hjust = 0.5))+
coord_flip()
ggplot(core, aes(y = est, x = interaction(method, pooling,package),
shape=model, color=model)) +
facet_grid(condition ~parameter) +
geom_errorbar(aes(ymin = est-se, ymax = est+se), position = dd,
width = 0.4)+
geom_point(position = dd, size = 2) +
ylim(0,1) +
labs(x='Analysis approach',y='Estimate', color='Model',shape='Model', title='Estimates of Core Parameters Across Models')+
scale_shape_manual(values=shapes) +
theme_bw() +
theme(text=element_text(size = 20))
ggplot(core, aes(y = est, x = interaction(method, pooling,package),
shape=model, color=model)) +
facet_grid(condition ~parameter) +
geom_errorbar(aes(ymin = est-se, ymax = est+se), position = dd,
width = 0.4)+
geom_point(position = dd, size = 2) +
ylim(0,1) +
labs(x='Analysis approach',y='Estimate', color='Model',shape='Model', title='Estimates of Core Parameters Across Models')+
scale_shape_manual(values=shapes) +
theme_bw() +
theme(text=element_text(size = 20))+
theme(plot.title=element_text(face = 'bold',size=16, hjust = 0.5))+
coord_flip()
ggplot(core, aes(y = est, x = interaction(method, pooling,package),
shape=model, color=model)) +
facet_grid(condition ~parameter) +
geom_errorbar(aes(ymin = est-se, ymax = est+se), position = dd,
width = 0.4)+
geom_point(position = dd, size = 2) +
ylim(0,1) +
labs(x='Analysis approach',y='Estimate', color='Model',shape='Model', title='Estimates of Core Parameters Across Models')+
scale_shape_manual(values=shapes) +
theme_bw() +
theme(text=element_text(size = 16))+
theme(plot.title=element_text(face = 'bold',size=16, hjust = 0.5))+
coord_flip()
ggplot(core, aes(y = est, x = interaction(method, pooling,package),
shape=model, color=model)) +
facet_grid(condition ~parameter) +
geom_errorbar(aes(ymin = est-se, ymax = est+se), position = dd,
width = 0.4)+
geom_point(position = dd, size = 2) +
ylim(0,1) +
labs(x='Analysis approach',y='Estimate', color='Model',shape='Model', title='Estimates of Core Parameters Across Models')+
scale_shape_manual(values=shapes) +
theme_bw() +
theme(text=element_text(size = 14))+
theme(plot.title=element_text(face = 'bold',size=16, hjust = 0.5))+
coord_flip()
ggplot(core, aes(y = est, x = interaction(method, pooling,package),
shape=model, color=model)) +
facet_grid(condition ~parameter) +
geom_errorbar(aes(ymin = est-se, ymax = est+se), position = dd,
width = 0.4)+
geom_point(position = dd, size = 2) +
ylim(0,1) +
labs(x='Analysis approach',y='Estimate', color='Model',shape='Model', title='Estimates of Core Parameters Across Models')+
scale_shape_manual(values=shapes) +
theme_bw() +
theme(text=element_text(size = 14))+
theme(plot.title=element_text(face = 'bold',size=16, hjust = 0.5))+
coord_flip()
ggplot(core, aes(y = est, x = interaction(method, pooling,package),
shape=model, color=model)) +
facet_grid(condition ~parameter) +
geom_errorbar(aes(ymin = est-se, ymax = est+se), position = dd,
width = 0.4)+
geom_point(position = dd, size = 4) +
ylim(0,1) +
labs(x='Analysis approach',y='Estimate', color='Model',shape='Model', title='Estimates of Core Parameters Across Models')+
scale_shape_manual(values=shapes) +
theme_bw() +
theme(text=element_text(size = 14))+
theme(plot.title=element_text(face = 'bold',size=16, hjust = 0.5))+
coord_flip()
ggplot(core, aes(y = est, x = interaction(method, pooling,package),
shape=model, color=model)) +
facet_grid(condition ~parameter) +
geom_errorbar(aes(ymin = est-se, ymax = est+se), position = dd,
width = 0.4)+
geom_point(position = dd, size = 3) +
ylim(0,1) +
labs(x='Analysis approach',y='Estimate', color='Model',shape='Model', title='Estimates of Core Parameters Across Models')+
scale_shape_manual(values=shapes) +
theme_bw() +
theme(text=element_text(size = 14))+
theme(plot.title=element_text(face = 'bold',size=16, hjust = 0.5))+
coord_flip()
ggplot(core, aes(y = est, x = interaction(method, pooling,package),
shape=model, color=model)) +
facet_grid(condition ~parameter) +
geom_errorbar(aes(ymin = est-se, ymax = est+se), position = dd,
width = 0.4)+
geom_point(position = dd, size = 2.5) +
ylim(0,1) +
labs(x='Analysis approach',y='Estimate', color='Model',shape='Model', title='Estimates of Core Parameters Across Models')+
scale_shape_manual(values=shapes) +
theme_bw() +
theme(text=element_text(size = 14))+
theme(plot.title=element_text(face = 'bold',size=16, hjust = 0.5))+
coord_flip()
